(this["webpackJsonpzoovu-game"]=this["webpackJsonpzoovu-game"]||[]).push([[0],{35:function(t,e,n){t.exports=n.p+"static/media/zoovu-z.98d275b2.svg"},36:function(t,e,n){t.exports=n.p+"static/media/zoovu-v.f04e5e7e.svg"},37:function(t,e,n){t.exports=n.p+"static/media/zoovu-o.987e802d.svg"},38:function(t,e,n){t.exports=n.p+"static/media/zoovu-u.509452d2.svg"},39:function(t,e,n){t.exports=n(57)},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(20),i=n.n(a),c=n(6),s=n(18),u=n(4),l=n(5),p=n(8),m=n(7),d=n(9),f=n(32),O=n.n(f),b=n(3),v=n(24),h=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).checkRoute(),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){O.a.isEqual(this.props.location.pathname,t.location.pathname)||this.checkRoute()}},{key:"checkRoute",value:function(){var t=Object(v.a)(this.props.routes,this.props.location.pathname)[0];t&&console.log("checkRoute -> ",t)}},{key:"render",value:function(){var t=this.props.routes;return o.createElement(o.Fragment,null,o.createElement("div",{className:"decorations"}),Object(v.b)(t))}}]),e}(o.Component);var y=Object(s.f)(Object(c.b)((function(t,e){return{}}),(function(t,e){return Object(b.b)({},t)}))(h)),E=n(34),j=n(1),g=n(27),D=n.n(g),T="[TIMER] ADD_TIME",S=function(){return function(t,e){var n=window.setInterval((function(){t({type:T,payload:1e3})}),1e3);return t({type:"[TIMER] START_TIME",payload:n}),n}},k=function(t){return function(e,n){e({type:T,payload:t})}},w=function(){return function(t,e){t({type:"[TIMER] STOP_TIME"})}},N=function(){return function(t,e){var n=e().timer.time,o=D.a.duration(n);return D()().hour(o.hours()).minute(o.minutes()).second(o.seconds()).format("HH:mm:ss")}},P=function(t,e){var n=e.x,o=e.y;return function(e,r){e({type:"[BLOCK] SET_INITIAL_POS",payload:{x:n,y:o,id:t}})}},R=function(t,e){var n=e.x,o=e.y;return function(e,r){e({type:"[BLOCK] SET_POSITION",payload:{x:n,y:o,id:t}})}},z=function(t,e){return function(n,o){n({type:"[DROPZONE] SET_DROPZONE_POS",payload:{id:t,position:e}})}},x=function(t,e){return function(n,o){n({type:"[DROPZONE] ADD_TO_DROPZONE",payload:{block:t,id:e}})}},I=function(t){return function(e,n){e({type:"[DROPZONE] REMOVE_BLOCK_DROPZONE",payload:t})}},_=function(t){return function(e,n){e({type:"[DROPZONE] UPDATE_DROPZONE",payload:t})}},C=function(t){var e=t.x,n=t.y;return function(t,o){var r=o().dropzone.list,a=!0,i=!1,c=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var l=s.value,p=l.position;if(p&&n>=p.top&&n<=p.top+p.height&&e>=p.left&&e<=p.left+p.width)return l}}catch(m){i=!0,c=m}finally{try{a||null==u.return||u.return()}finally{if(i)throw c}}return null}},M="[GENERAL] SET_NAME",L="[GENERAL] SHOW_MODAL",A="[GENERAL] HIDE_MODAL",Z=function(t){return function(e,n){e({type:M,payload:t})}},B=function(){return function(t,e){var n=e().dropzone.list.sort((function(t,e){return t.order-e.order})).map((function(t){return t.contain?t.contain.dataset.letter:null})),o=e().general.answer;for(var r in o)if(n[r]!==o[r])return;t(G())}},G=function(){return function(t,e){t((function(t,e){t({type:"[TIMER] STOP_TIME"})})),t((function(t,e){t({type:L})}))}},K=function(){return function(t,e){t((function(t,e){t({type:"[TIMER] RESET_TIME"})})),t((function(t,e){t({type:"[BLOCK] RESET_BLOCKS"})})),t((function(t,e){t({type:"[DROPZONE] RESET_DROPZONE"})})),t((function(t,e){t({type:A})}))}},U={name:"",answer:["z","o","o","v","u"],modal:{visible:!1}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return Object(j.a)({},t,{modal:Object(j.a)({},t.modal,{visible:!1})});case L:return Object(j.a)({},t,{modal:Object(j.a)({},t.modal,{visible:!0})});case M:return Object(j.a)({},t,{name:e.payload});default:return t}},F={time:0,timer:void 0},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(j.a)({},t,{time:t.time+e.payload});case"[TIMER] START_TIME":return Object(j.a)({},t,{timer:e.payload});case"[TIMER] RESET_TIME":return Object(j.a)({},t,{timer:void 0,time:0});case"[TIMER] STOP_TIME":return clearInterval(t.timer),Object(j.a)({},t,{timer:void 0});default:return t}},X=n(14),J=function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,null,[{key:"generateGUID",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()}}]),t}(),V={list:["z","o","o","v","u"].map((function(t,e){return{id:J.generateGUID(),position:null,accepting:t,order:e,contain:null}}))},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[DROPZONE] RESET_DROPZONE":var n=t.list.map((function(t){return t.contain=null,Object(j.a)({},t)}));return Object(j.a)({},t,{list:Object(X.a)(n)});case"[DROPZONE] REMOVE_BLOCK_DROPZONE":var o=t.list.find((function(t){return t.contain&&t.contain.id===e.payload}));return o&&(o.contain=null),Object(j.a)({},t,{list:Object(X.a)(t.list)});case"[DROPZONE] UPDATE_DROPZONE":var r=t.list.find((function(t){return t.id===e.payload}));return r&&(r.contain=null),Object(j.a)({},t,{list:Object(X.a)(t.list)});case"[DROPZONE] ADD_TO_DROPZONE":var a=t.list.find((function(t){return t.id===e.payload.id}));return a&&(a.contain=e.payload.block),Object(j.a)({},t,{list:Object(X.a)(t.list)});case"[DROPZONE] SET_DROPZONE_POS":var i=t.list.find((function(t){return t.id===e.payload.id}));return i&&(i.position=e.payload.position),Object(j.a)({},t,{list:Object(X.a)(t.list)});default:return t}},W={},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0;return e.type,t},$={list:["z","o","o","v","u"].sort((function(){return Math.random()-.5})).map((function(t){return{id:J.generateGUID(),letter:t,initialPos:null,position:{top:"unset",left:"unset",position:"relative"}}}))},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[BLOCK] RESET_BLOCKS":var n=t.list.sort((function(){return Math.random()-.5})).map((function(t){return t.id=J.generateGUID(),t.initialPos&&(t.position=Object(j.a)({},t.position,{top:t.initialPos.y,left:t.initialPos.x})),Object(j.a)({},t)}));return Object(j.a)({},t,{list:Object(X.a)(n)});case"[BLOCK] SET_INITIAL_POS":var o=t.list.find((function(t){return t.id===e.payload.id}));return o&&(o.initialPos={y:e.payload.y,x:e.payload.x},o.position={position:"absolute",left:e.payload.x,top:e.payload.y}),Object(j.a)({},t,{list:Object(X.a)(t.list)});case"[BLOCK] SET_POSITION":var r=t.list.find((function(t){return t.id===e.payload.id}));return r&&(r.position=Object(j.a)({},r.position,{left:e.payload.x,top:e.payload.y})),Object(j.a)({},t,{list:Object(X.a)(t.list)});default:return t}},et=Object(b.c)({general:Y,game:Q,block:tt,timer:H,dropzone:q}),nt=Object(b.d)(et,Object(b.a)(E.a)),ot=n(15),rt=Object(ot.a)(),at=(n(49),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).onNameChange=function(t){var e=t.target;n.setState({name:e.value})},n.onContinue=function(){n.state.name&&(n.props.setName(n.state.name),n.props.history.push("/game"))},n.state={name:""},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"welcome-wrapper"},r.a.createElement("h1",{className:"welcome-title"},"Hello friend, tell me your name..."),r.a.createElement("div",{className:"welcome-input"},r.a.createElement("input",{type:"text",placeholder:"Your name here",value:this.state.name,onChange:this.onNameChange})),r.a.createElement("div",{className:"welcome-continue"},r.a.createElement("button",{onClick:this.onContinue},"Let's go \u2192"))))}}]),e}(r.a.Component));var it={path:"/welcome",component:Object(s.f)(Object(c.b)((function(t,e){return{name:t.general.name}}),(function(t,e){return Object(b.b)({setName:Z},t)}))(at))},ct=n(11),st=n.n(ct),ut=(n(50),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).block=Object(o.createRef)(),n.state={},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.getTimeString;return r.a.createElement("div",{className:st()("timer")},"Your score ",t())}}]),e}(r.a.Component));var lt=Object(c.b)((function(t,e){return{time:t.timer.time}}),(function(t,e){return Object(b.b)({stopTimer:w,getTimeString:N},t)}))(ut),pt=(n(51),function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.name||this.props.history.push("/welcome")}},{key:"render",value:function(){var t=this.props.name;return o.createElement("div",{className:"menu"},o.createElement("div",{className:"menu-wrapper"},o.createElement("div",{className:"menu-col"},o.createElement("h1",{className:"menu-title"},"Good luck, ",t,"!"),o.createElement("p",{className:"menu-subtitle"},"Pick up the right cards")),o.createElement("div",{className:"menu-col"},o.createElement(lt,null),o.createElement("p",{className:"menu-subtitle"},"The faster the better!"))))}}]),e}(o.Component));var mt=Object(s.f)(Object(c.b)((function(t,e){return{name:t.general.name}}),(function(t,e){return Object(b.b)({},t)}))(pt)),dt=n(35),ft=n.n(dt),Ot=n(36),bt=n.n(Ot),vt=n(37),ht=n.n(vt),yt=n(38),Et=n.n(yt),jt=(n(52),{z:ft.a,v:bt.a,u:Et.a,o:ht.a}),gt=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).block=Object(o.createRef)(),n.inDropzone=void 0,n.startPos=void 0,n.toSwap=void 0,n.onmousedown=function(t){n.startPos=t.currentTarget.getBoundingClientRect(),n.props.timer||n.props.startTimer(),n.setState({shift:{x:t.clientX-n.startPos.left,y:t.clientY-n.startPos.top}}),document.addEventListener("mousemove",n.mousemove),document.addEventListener("mouseup",n.mouseup)},n.mousemove=function(t){if(n.block.current){var e=n.state.shift,o=t.clientY-e.y,r=t.clientX-e.x;if(n.block.current.style.top="".concat(o,"px"),n.block.current.style.left="".concat(r,"px"),n.inDropzone=n.props.movingAt({x:t.clientX,y:t.clientY}),n.inDropzone&&n.inDropzone.contain&&n.inDropzone.contain.id!==n.block.current.id&&!n.toSwap&&n.startPos&&(n.toSwap={elem:n.inDropzone.contain,position:n.inDropzone.contain.getBoundingClientRect(),dropTo:n.props.movingAt({x:n.startPos.x,y:n.startPos.y})},n.toSwap.elem.style.top="".concat(n.startPos.y,"px"),n.toSwap.elem.style.left="".concat(n.startPos.x,"px")),!n.inDropzone&&n.toSwap){var a=n.toSwap.position;n.toSwap.elem.style.top="".concat(a.y,"px"),n.toSwap.elem.style.left="".concat(a.x,"px"),n.toSwap=null}}},n.mouseup=function(t){if(n.block.current){var e=n.state.shift,o=t.clientY-e.y,r=t.clientX-e.x;n.inDropzone&&n.inDropzone.position?(n.move({x:n.inDropzone.position.x,y:n.inDropzone.position.y}),n.props.setPosition(n.props.id,{x:n.inDropzone.position.x,y:n.inDropzone.position.y}),n.props.removeBlockFromDropzones(n.block.current.id),n.props.dropToDropzone(n.block.current,n.inDropzone.id),n.inDropzone.accepting!==n.props.letter&&n.props.addTime(1e4)):(n.props.removeBlockFromDropzones(n.block.current.id),n.props.setPosition(n.props.id,{x:r,y:o})),n.toSwap&&n.toSwap.dropTo&&n.toSwap.dropTo.position&&(n.props.dropToDropzone(n.toSwap.elem,n.toSwap.dropTo.id),n.props.setPosition(n.toSwap.elem.id,{x:n.toSwap.dropTo.position.x,y:n.toSwap.dropTo.position.y}),n.toSwap=null),n.props.checkAnswers(),document.removeEventListener("mousemove",n.mousemove),document.removeEventListener("mouseup",n.mouseup)}},n.move=function(t){var e=t.x,o=t.y;n.block.current&&(n.block.current.style.top="".concat(o,"px"),n.block.current.style.left="".concat(e,"px"))},n.state={icon:null,shift:{}},n.inDropzone=null,n.startPos=null,n.toSwap=null,n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){if(this.block.current){var t=this.block.current.getBoundingClientRect();this.props.setInitialPos(this.props.id,{x:t.left,y:t.top})}this.setState({icon:jt[this.props.letter]})}},{key:"componentDidUpdate",value:function(t){this.props.letter!==t.letter&&this.setState({icon:jt[this.props.letter]})}},{key:"render",value:function(){var t=this.state.icon,e=this.props,n=e.letter,o=e.id,a=e.position;return r.a.createElement("div",{id:o,ref:this.block,className:st()("dnd-block"),onMouseDown:this.onmousedown,"data-letter":n,style:Object(j.a)({},a)},r.a.createElement("img",{draggable:!1,src:t,alt:n}))}}]),e}(r.a.Component);var Dt=Object(c.b)((function(t,e){return{timer:t.timer.timer}}),(function(t,e){return Object(b.b)({movingAt:C,dropToDropzone:x,cleanDropzone:_,removeBlockFromDropzones:I,checkAnswers:B,addTime:k,setInitialPos:P,setPosition:R,startTimer:S},t)}))(gt),Tt=(n(53),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).startCountdown=function(){var t=setInterval((function(){0===n.state.countdown?(clearInterval(n.state.interval),n.props.restartGame()):n.setState({countdown:n.state.countdown-1})}),1e3);n.setState({interval:t})},n.state={countdown:10,interval:null},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.visible!==t.visible&&this.props.visible&&this.startCountdown(),this.props.visible===t.visible||this.props.visible||this.setState({countdown:10})}},{key:"render",value:function(){var t=this.props.visible,e=this.state.countdown;return t&&o.createElement("div",{className:st()("modal")},o.createElement("div",{className:"modal-body"},"Congratulation! You win!",o.createElement("p",null,"Your score:  ",o.createElement("span",{className:"modal-timer-value"},this.props.getTimeString())),o.createElement("p",{className:"restart"},"Restart in...",e)))}}]),e}(o.Component));var St=Object(c.b)((function(t,e){return{visible:t.general.modal.visible}}),(function(t,e){return Object(b.b)({getTimeString:N,restartGame:K},t)}))(Tt),kt=(n(54),n(55),function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(a)))).element=Object(o.createRef)(),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){if(this.element.current){var t=this.element.current.getBoundingClientRect();this.props.setDropzonePosition(this.props.id,t)}}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.element,className:st()("dnd-dropzone")})}}]),e}(r.a.Component));var wt=Object(c.b)((function(t,e){return{}}),(function(t,e){return Object(b.b)({setDropzonePosition:z},t)}))(kt),Nt=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.blocks,n=t.dropzones;return o.createElement("div",{className:st()("game")},o.createElement(mt,null),o.createElement("div",{className:"game-area"},o.createElement("div",{className:"game-objects"},e.map((function(t,e){return o.createElement(Dt,Object.assign({key:t.id},t))}))),o.createElement("div",{className:"game-zones"},n.map((function(t,e){return o.createElement(wt,Object.assign({key:t.id},t))})))),o.createElement(St,null))}}]),e}(o.Component);var Pt=Object(c.b)((function(t,e){return{blocks:t.block.list,dropzones:t.dropzone.list}}),(function(t,e){return Object(b.b)({},t)}))(Nt),Rt=[].concat([it,{path:"/game",component:Pt}],[{path:"/",component:function(){return r.a.createElement(s.a,{to:"/welcome"})}}]);n(56);i.a.render(o.createElement(c.a,{store:nt},o.createElement(s.c,{history:rt},o.createElement(y,{routes:Rt}))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.fb701939.chunk.js.map