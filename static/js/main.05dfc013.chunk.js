(this["webpackJsonpzoovu-game"]=this["webpackJsonpzoovu-game"]||[]).push([[0],{36:function(t,e,n){t.exports=n.p+"static/media/zoovu-z.98d275b2.svg"},37:function(t,e,n){t.exports=n.p+"static/media/zoovu-v.f04e5e7e.svg"},38:function(t,e,n){t.exports=n.p+"static/media/zoovu-o.987e802d.svg"},39:function(t,e,n){t.exports=n.p+"static/media/zoovu-u.509452d2.svg"},40:function(t,e,n){t.exports=n(58)},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(21),i=n.n(a),c=n(6),s=n(19),u=n(4),l=n(5),p=n(8),m=n(7),d=n(9),f=n(33),O=n.n(f),b=n(11),v=n(3),h=n(26),y=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).checkRoute(),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){O.a.isEqual(this.props.location.pathname,t.location.pathname)||this.checkRoute()}},{key:"checkRoute",value:function(){var t=Object(h.a)(this.props.routes,this.props.location.pathname)[0];t&&console.log("checkRoute -> ",t)}},{key:"render",value:function(){var t=this.props.routes;return o.createElement(o.Fragment,null,o.createElement("div",{className:"decorations"}),Object(h.b)(t))}}]),e}(o.Component);var E=Object(b.g)(Object(c.b)((function(t,e){return{}}),(function(t,e){return Object(v.b)({},t)}))(y)),j=n(35),g=n(2),D=n(29),T=n.n(D),S="[TIMER] ADD_TIME",k=function(){return function(t,e){var n=window.setInterval((function(){t({type:S,payload:1e3})}),1e3);return t({type:"[TIMER] START_TIME",payload:n}),n}},w=function(t){return function(e,n){e({type:S,payload:t})}},N=function(){return function(t,e){t({type:"[TIMER] STOP_TIME"})}},P=function(){return function(t,e){var n=e().timer.time,o=T.a.duration(n);return T()().hour(o.hours()).minute(o.minutes()).second(o.seconds()).format("HH:mm:ss")}},R=function(t,e){var n=e.x,o=e.y;return function(e,r){e({type:"[BLOCK] SET_INITIAL_POS",payload:{x:n,y:o,id:t}})}},z=function(t,e){var n=e.x,o=e.y;return function(e,r){e({type:"[BLOCK] SET_POSITION",payload:{x:n,y:o,id:t}})}},x=function(t,e){return function(n,o){n({type:"[DROPZONE] SET_DROPZONE_POS",payload:{id:t,position:e}})}},I=function(t,e){return function(n,o){n({type:"[DROPZONE] ADD_TO_DROPZONE",payload:{block:t,id:e}})}},_=function(t){return function(e,n){e({type:"[DROPZONE] REMOVE_BLOCK_DROPZONE",payload:t})}},C=function(t){return function(e,n){e({type:"[DROPZONE] UPDATE_DROPZONE",payload:t})}},M=function(t){var e=t.x,n=t.y;return function(t,o){var r=o().dropzone.list,a=!0,i=!1,c=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var l=s.value,p=l.position;if(p&&n>=p.top&&n<=p.top+p.height&&e>=p.left&&e<=p.left+p.width)return l}}catch(m){i=!0,c=m}finally{try{a||null==u.return||u.return()}finally{if(i)throw c}}return null}},L="[GENERAL] SET_NAME",A="[GENERAL] SHOW_MODAL",Z="[GENERAL] HIDE_MODAL",B=function(t){return function(e,n){e({type:L,payload:t})}},G=function(){return function(t,e){var n=e().dropzone.list.sort((function(t,e){return t.order-e.order})).map((function(t){return t.contain?t.contain.dataset.letter:null})),o=e().general.answer;for(var r in o)if(n[r]!==o[r])return;t(K())}},K=function(){return function(t,e){t((function(t,e){t({type:"[TIMER] STOP_TIME"})})),t((function(t,e){t({type:A})}))}},U=function(){return function(t,e){t((function(t,e){t({type:"[TIMER] RESET_TIME"})})),t((function(t,e){t({type:"[BLOCK] RESET_BLOCKS"})})),t((function(t,e){t({type:"[DROPZONE] RESET_DROPZONE"})})),t((function(t,e){t({type:Z})}))}},Y={name:"",answer:["z","o","o","v","u"],modal:{visible:!1}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Z:return Object(g.a)({},t,{modal:Object(g.a)({},t.modal,{visible:!1})});case A:return Object(g.a)({},t,{modal:Object(g.a)({},t.modal,{visible:!0})});case L:return Object(g.a)({},t,{name:e.payload});default:return t}},H={time:0,timer:void 0},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(g.a)({},t,{time:t.time+e.payload});case"[TIMER] START_TIME":return Object(g.a)({},t,{timer:e.payload});case"[TIMER] RESET_TIME":return Object(g.a)({},t,{timer:void 0,time:0});case"[TIMER] STOP_TIME":return clearInterval(t.timer),Object(g.a)({},t,{timer:void 0});default:return t}},J=n(17),V=function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,null,[{key:"generateGUID",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()}}]),t}(),q={list:["z","o","o","v","u"].map((function(t,e){return{id:V.generateGUID(),position:null,accepting:t,order:e,contain:null}}))},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[DROPZONE] RESET_DROPZONE":var n=t.list.map((function(t){return t.contain=null,Object(g.a)({},t)}));return Object(g.a)({},t,{list:Object(J.a)(n)});case"[DROPZONE] REMOVE_BLOCK_DROPZONE":var o=t.list.find((function(t){return t.contain&&t.contain.id===e.payload}));return o&&(o.contain=null),Object(g.a)({},t,{list:Object(J.a)(t.list)});case"[DROPZONE] UPDATE_DROPZONE":var r=t.list.find((function(t){return t.id===e.payload}));return r&&(r.contain=null),Object(g.a)({},t,{list:Object(J.a)(t.list)});case"[DROPZONE] ADD_TO_DROPZONE":var a=t.list.find((function(t){return t.id===e.payload.id}));return a&&(a.contain=e.payload.block),Object(g.a)({},t,{list:Object(J.a)(t.list)});case"[DROPZONE] SET_DROPZONE_POS":var i=t.list.find((function(t){return t.id===e.payload.id}));return i&&(i.position=e.payload.position),Object(g.a)({},t,{list:Object(J.a)(t.list)});default:return t}},Q={},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;return e.type,t},tt={list:["z","o","o","v","u"].sort((function(){return Math.random()-.5})).map((function(t){return{id:V.generateGUID(),letter:t,initialPos:null,position:{top:"unset",left:"unset",position:"relative"}}}))},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[BLOCK] RESET_BLOCKS":var n=t.list.sort((function(){return Math.random()-.5})).map((function(t){return t.id=V.generateGUID(),t.initialPos&&(t.position=Object(g.a)({},t.position,{top:t.initialPos.y,left:t.initialPos.x})),Object(g.a)({},t)}));return Object(g.a)({},t,{list:Object(J.a)(n)});case"[BLOCK] SET_INITIAL_POS":var o=t.list.find((function(t){return t.id===e.payload.id}));return o&&(o.initialPos={y:e.payload.y,x:e.payload.x},o.position={position:"absolute",left:e.payload.x,top:e.payload.y}),Object(g.a)({},t,{list:Object(J.a)(t.list)});case"[BLOCK] SET_POSITION":var r=t.list.find((function(t){return t.id===e.payload.id}));return r&&(r.position=Object(g.a)({},r.position,{left:e.payload.x,top:e.payload.y})),Object(g.a)({},t,{list:Object(J.a)(t.list)});default:return t}},nt=Object(v.c)({general:F,game:$,block:et,timer:X,dropzone:W}),ot=Object(v.d)(nt,Object(v.a)(j.a)),rt=(n(50),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).onNameChange=function(t){var e=t.target;n.setState({name:e.value})},n.onContinue=function(){n.state.name&&(n.props.setName(n.state.name),n.props.history.push("/game"))},n.state={name:""},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"welcome-wrapper"},r.a.createElement("h1",{className:"welcome-title"},"Hello friend, tell me your name..."),r.a.createElement("div",{className:"welcome-input"},r.a.createElement("input",{type:"text",placeholder:"Your name here",value:this.state.name,onChange:this.onNameChange})),r.a.createElement("div",{className:"welcome-continue"},r.a.createElement("button",{onClick:this.onContinue},"Let's go \u2192"))))}}]),e}(r.a.Component));var at={path:"/welcome",component:Object(b.g)(Object(c.b)((function(t,e){return{name:t.general.name}}),(function(t,e){return Object(v.b)({setName:B},t)}))(rt))},it=n(15),ct=n.n(it),st=(n(51),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).block=Object(o.createRef)(),n.state={},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.getTimeString;return r.a.createElement("div",{className:ct()("timer")},"Your score ",t())}}]),e}(r.a.Component));var ut=Object(c.b)((function(t,e){return{time:t.timer.time}}),(function(t,e){return Object(v.b)({stopTimer:N,getTimeString:P},t)}))(st),lt=(n(52),function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.name||this.props.history.push("/welcome")}},{key:"render",value:function(){var t=this.props.name;return o.createElement("div",{className:"menu"},o.createElement("div",{className:"menu-wrapper"},o.createElement("div",{className:"menu-col"},o.createElement("h1",{className:"menu-title"},"Good luck, ",t,"!"),o.createElement("p",{className:"menu-subtitle"},"Pick up the right cards")),o.createElement("div",{className:"menu-col"},o.createElement(ut,null),o.createElement("p",{className:"menu-subtitle"},"The faster the better!"))))}}]),e}(o.Component));var pt=Object(b.g)(Object(c.b)((function(t,e){return{name:t.general.name}}),(function(t,e){return Object(v.b)({},t)}))(lt)),mt=n(36),dt=n.n(mt),ft=n(37),Ot=n.n(ft),bt=n(38),vt=n.n(bt),ht=n(39),yt=n.n(ht),Et=(n(53),{z:dt.a,v:Ot.a,u:yt.a,o:vt.a}),jt=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).block=Object(o.createRef)(),n.inDropzone=void 0,n.startPos=void 0,n.toSwap=void 0,n.onmousedown=function(t){n.startPos=t.currentTarget.getBoundingClientRect(),n.props.timer||n.props.startTimer(),n.setState({shift:{x:t.clientX-n.startPos.left,y:t.clientY-n.startPos.top}}),document.addEventListener("mousemove",n.mousemove),document.addEventListener("mouseup",n.mouseup)},n.mousemove=function(t){if(n.block.current){var e=n.state.shift,o=t.clientY-e.y,r=t.clientX-e.x;if(n.block.current.style.top="".concat(o,"px"),n.block.current.style.left="".concat(r,"px"),n.inDropzone=n.props.movingAt({x:t.clientX,y:t.clientY}),n.inDropzone&&n.inDropzone.contain&&n.inDropzone.contain.id!==n.block.current.id&&!n.toSwap&&n.startPos&&(n.toSwap={elem:n.inDropzone.contain,position:n.inDropzone.contain.getBoundingClientRect(),dropTo:n.props.movingAt({x:n.startPos.x,y:n.startPos.y})},n.toSwap.elem.style.top="".concat(n.startPos.y,"px"),n.toSwap.elem.style.left="".concat(n.startPos.x,"px")),!n.inDropzone&&n.toSwap){var a=n.toSwap.position;n.toSwap.elem.style.top="".concat(a.y,"px"),n.toSwap.elem.style.left="".concat(a.x,"px"),n.toSwap=null}}},n.mouseup=function(t){if(n.block.current){var e=n.state.shift,o=t.clientY-e.y,r=t.clientX-e.x;n.inDropzone&&n.inDropzone.position?(n.move({x:n.inDropzone.position.x,y:n.inDropzone.position.y}),n.props.setPosition(n.props.id,{x:n.inDropzone.position.x,y:n.inDropzone.position.y}),n.props.removeBlockFromDropzones(n.block.current.id),n.props.dropToDropzone(n.block.current,n.inDropzone.id),n.inDropzone.accepting!==n.props.letter&&n.props.addTime(1e4)):(n.props.removeBlockFromDropzones(n.block.current.id),n.props.setPosition(n.props.id,{x:r,y:o})),n.toSwap&&n.toSwap.dropTo&&n.toSwap.dropTo.position&&(n.props.dropToDropzone(n.toSwap.elem,n.toSwap.dropTo.id),n.props.setPosition(n.toSwap.elem.id,{x:n.toSwap.dropTo.position.x,y:n.toSwap.dropTo.position.y}),n.toSwap=null),n.props.checkAnswers(),document.removeEventListener("mousemove",n.mousemove),document.removeEventListener("mouseup",n.mouseup)}},n.move=function(t){var e=t.x,o=t.y;n.block.current&&(n.block.current.style.top="".concat(o,"px"),n.block.current.style.left="".concat(e,"px"))},n.state={icon:null,shift:{}},n.inDropzone=null,n.startPos=null,n.toSwap=null,n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){if(this.block.current){var t=this.block.current.getBoundingClientRect();this.props.setInitialPos(this.props.id,{x:t.left,y:t.top})}this.setState({icon:Et[this.props.letter]})}},{key:"componentDidUpdate",value:function(t){this.props.letter!==t.letter&&this.setState({icon:Et[this.props.letter]})}},{key:"render",value:function(){var t=this.state.icon,e=this.props,n=e.letter,o=e.id,a=e.position;return r.a.createElement("div",{id:o,ref:this.block,className:ct()("dnd-block"),onMouseDown:this.onmousedown,"data-letter":n,style:Object(g.a)({},a)},r.a.createElement("img",{draggable:!1,src:t,alt:n}))}}]),e}(r.a.Component);var gt=Object(c.b)((function(t,e){return{timer:t.timer.timer}}),(function(t,e){return Object(v.b)({movingAt:M,dropToDropzone:I,cleanDropzone:C,removeBlockFromDropzones:_,checkAnswers:G,addTime:w,setInitialPos:R,setPosition:z,startTimer:k},t)}))(jt),Dt=(n(54),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(m.a)(e).call(this,t))).startCountdown=function(){var t=setInterval((function(){0===n.state.countdown?(clearInterval(n.state.interval),n.props.restartGame()):n.setState({countdown:n.state.countdown-1})}),1e3);n.setState({interval:t})},n.state={countdown:10,interval:null},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.visible!==t.visible&&this.props.visible&&this.startCountdown(),this.props.visible===t.visible||this.props.visible||this.setState({countdown:10})}},{key:"render",value:function(){var t=this.props.visible,e=this.state.countdown;return t&&o.createElement("div",{className:ct()("modal")},o.createElement("div",{className:"modal-body"},"Congratulation! You win!",o.createElement("p",null,"Your score:  ",o.createElement("span",{className:"modal-timer-value"},this.props.getTimeString())),o.createElement("p",{className:"restart"},"Restart in...",e)))}}]),e}(o.Component));var Tt=Object(c.b)((function(t,e){return{visible:t.general.modal.visible}}),(function(t,e){return Object(v.b)({getTimeString:P,restartGame:U},t)}))(Dt),St=(n(55),n(56),function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(a)))).element=Object(o.createRef)(),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){if(this.element.current){var t=this.element.current.getBoundingClientRect();this.props.setDropzonePosition(this.props.id,t)}}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.element,className:ct()("dnd-dropzone")})}}]),e}(r.a.Component));var kt=Object(c.b)((function(t,e){return{}}),(function(t,e){return Object(v.b)({setDropzonePosition:x},t)}))(St),wt=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.blocks,n=t.dropzones;return o.createElement("div",{className:ct()("game")},o.createElement(pt,null),o.createElement("div",{className:"game-area"},o.createElement("div",{className:"game-objects"},e.map((function(t,e){return o.createElement(gt,Object.assign({key:t.id},t))}))),o.createElement("div",{className:"game-zones"},n.map((function(t,e){return o.createElement(kt,Object.assign({key:t.id},t))})))),o.createElement(Tt,null))}}]),e}(o.Component);var Nt=Object(c.b)((function(t,e){return{blocks:t.block.list,dropzones:t.dropzone.list}}),(function(t,e){return Object(v.b)({},t)}))(wt),Pt=[].concat([at,{path:"/game",component:Nt}],[{path:"/",component:function(){return r.a.createElement(b.a,{to:"/welcome"})}}]);n(57);i.a.render(o.createElement(c.a,{store:ot},o.createElement(s.a,{basename:"/letters-game"},o.createElement(E,{routes:Pt}))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.05dfc013.chunk.js.map